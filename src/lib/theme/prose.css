/* Prose Impulsion V1 : styles texte long (Notion, blog, pages) */

.prose {
  max-width: none;
  color: var(--fg);
  font-size: 1rem;
  line-height: 1.6;
}

.prose.prose-wide {
  max-width: none;
}

.prose-inline {
  display: inline;
}

.prose h1 {
  font-family: var(--font-display);
  color: var(--fg);
  margin: var(--space-xl) 0 var(--space-m);
}

.prose h2,
.prose h3 {
  font-family: var(--font-display);
  color: var(--fg);
  margin: var(--space-xxs) 0 var(--space-xs);
}

.prose h1 { font-size: clamp(1.85rem, 2.8vw, 2.25rem); line-height: 1.1; font-weight: 700; letter-spacing: -0.03em; }
.prose h2 { font-size: clamp(1.45rem, 2.2vw, 1.8rem); line-height: 1.14; font-weight: 600; letter-spacing: -0.02em; }
.prose h3 { font-size: clamp(1.18rem, 1.8vw, 1.4rem); line-height: 1.2; font-weight: 600; letter-spacing: -0.01em; }

.prose p {
  margin: 0 0 var(--space-s);
  color: var(--fg);
}

.prose p + h2,
.prose p + h3,
.prose ul + h2,
.prose ul + h3,
.prose ol + h2,
.prose ol + h3 {
  margin-top: var(--space-xl);
}

.prose ul,
.prose ol {
  margin: 0 0 var(--space-s) var(--space-l);
  padding: 0;
  color: var(--fg);
}

.prose li + li {
  margin-top: var(--space-xs);
}

.prose strong {
  font-weight: 600;
  color: var(--fg);
}

.prose em {
  font-style: italic;
}

.prose a {
  color: var(--primary);
  text-decoration: underline;
  text-underline-offset: 0.16em;
  transition: color 0.2s ease, text-decoration-color 0.2s ease;
}

.prose a:hover {
  color: color-mix(in srgb, var(--primary) 88%, var(--fg));
  text-decoration-color: color-mix(in srgb, var(--primary) 65%, transparent);
}

.prose blockquote {
  margin: var(--space-m) 0;
  padding: var(--space-s) var(--space-m);
  background: color-mix(in srgb, var(--bg-soft) 96%, #ffffff 4%);
  border: 1px solid color-mix(in srgb, var(--fg-soft) 22%, transparent);
  border-left: 3px solid color-mix(in srgb, var(--primary-soft) 70%, var(--primary));
  border-radius: var(--r-m);
  color: var(--fg);
}

.prose code {
  font-size: 0.94em;
  background: color-mix(in srgb, var(--bg-soft) 92%, #ffffff 8%);
  color: var(--fg);
  padding: 0.16em 0.42em;
  border-radius: var(--r-s);
  border: 1px solid color-mix(in srgb, var(--fg-soft) 20%, transparent);
}

.prose pre {
  background: var(--bg-soft);
  border: 1px solid color-mix(in srgb, var(--fg-soft) 20%, transparent);
  border-radius: var(--r-m);
  padding: var(--space-m);
  overflow-x: auto;
  font-size: 0.92rem;
  line-height: 1.55;
  color: var(--fg);
}

.prose hr {
  margin: var(--space-l) 0;
  border-color: color-mix(in srgb, var(--fg-soft) 20%, transparent);
}

.prose img,
.prose video {
  border-radius: var(--r-l);
}

.prose figcaption {
  color: var(--fg-soft);
  font-size: 0.88rem;
  margin-top: var(--space-xs);
}

/* Rich text annotations */
.rt {
  color: var(--fg);
}
.rt-bold { font-weight: 700; }
.rt-italic { font-style: italic; }
.rt-underline { text-decoration: underline; }
.rt-strike { text-decoration: line-through; }
.rt-code {
  background: color-mix(in srgb, var(--bg-soft) 92%, #ffffff 8%);
  border: 1px solid color-mix(in srgb, var(--fg-soft) 20%, transparent);
  border-radius: var(--r-s);
  padding: 0.12em 0.4em;
  font-size: 0.95em;
}
.rt-link {
  color: var(--primary);
  text-decoration: underline;
  text-underline-offset: 0.16em;
}
.rt-link:hover {
  color: color-mix(in srgb, var(--primary) 88%, var(--fg));
  text-decoration-color: color-mix(in srgb, var(--primary) 65%, transparent);
}

/* Tonal colors */
.rt-color-default { color: var(--fg); }
.rt-color-gray { color: var(--muted); }
.rt-color-brown,
.rt-color-orange { color: var(--primary); }
.rt-color-yellow { color: var(--warning); }
.rt-color-green { color: var(--success); }
.rt-color-blue,
.rt-color-purple,
.rt-color-pink { color: var(--ring); }
.rt-color-red { color: var(--danger); }

.rt-bg-default,
.rt-bg-gray,
.rt-bg-brown,
.rt-bg-orange,
.rt-bg-yellow,
.rt-bg-green,
.rt-bg-blue,
.rt-bg-purple,
.rt-bg-pink,
.rt-bg-red {
  padding: 0.12em 0.4em;
  border-radius: var(--r-s);
  color: var(--fg);
}
.rt-bg-default,
.rt-bg-gray { background: color-mix(in srgb, var(--bg-soft) 92%, #ffffff 8%); }
.rt-bg-brown,
.rt-bg-orange { background: color-mix(in srgb, var(--primary-soft) 35%, #ffffff 65%); }
.rt-bg-yellow { background: color-mix(in srgb, var(--warning) 25%, #ffffff 75%); }
.rt-bg-green { background: color-mix(in srgb, var(--success) 22%, #ffffff 78%); }
.rt-bg-blue,
.rt-bg-purple,
.rt-bg-pink { background: color-mix(in srgb, var(--ring) 25%, #ffffff 75%); }
.rt-bg-red { background: color-mix(in srgb, var(--danger) 25%, #ffffff 75%); }

/* Notion-specific helpers */
.prose .prose-paragraph {
  margin: 0 0 var(--space-m);
}

.prose .prose-list {
  margin: 0 0 var(--space-m) var(--space-l);
}

.prose .prose-list-bulleted {
  list-style: disc;
}

.prose .prose-list-numbered {
  list-style: decimal;
}

.prose .prose-list-nested {
  margin-left: var(--space-l);
}

.prose .prose-list li {
  margin-bottom: var(--space-xs);
}

.notion-quote {
  --quote-pill-bg: color-mix(in oklab, var(--primary-soft) 32%, var(--bg-soft));
  --quote-pill-fg: color-mix(in oklab, var(--fg) 96%, #121320);
  display: inline-flex;
  align-items: center;
  gap: var(--space-2);
  padding: 0.45rem 1.05rem;
  border-radius: 999px;
  font-size: 0.78rem;
  letter-spacing: 0.16em;
  text-transform: uppercase;
  font-weight: 600;
  line-height: 1.2;
  background: var(--quote-pill-bg);
  color: var(--quote-pill-fg);
  box-shadow: 0 18px 36px rgba(15, 23, 42, 0.14);
  margin: clamp(var(--space-3), 1.5vw, var(--space-4)) 0;
  width: fit-content;
  flex-wrap: wrap;
}

.notion-quote__dot {
  width: 8px;
  height: 8px;
  border-radius: 999px;
  background: currentColor;
  box-shadow: 0 0 0 4px color-mix(in oklab, currentColor 35%, transparent);
  display: inline-flex;
  flex-shrink: 0;
}

.notion-quote[data-tone="default"],
.notion-quote[data-tone="gray"],
.notion-quote:not([data-tone]) {
  --quote-pill-bg: color-mix(in oklab, var(--primary-soft) 24%, var(--bg-soft));
  --quote-pill-fg: color-mix(in oklab, var(--fg) 94%, #191c29);
}

.notion-quote[data-tone="brown"] {
  --quote-pill-bg: color-mix(in oklab, var(--warning) 22%, #fff8f1);
  --quote-pill-fg: #5a3a1f;
}

.notion-quote[data-tone="orange"],
.notion-quote[data-tone="yellow"] {
  --quote-pill-bg: color-mix(in oklab, var(--warning) 26%, #fffdf5);
  --quote-pill-fg: color-mix(in oklab, var(--warning) 65%, #5c3a00);
}

.notion-quote[data-tone="green"] {
  --quote-pill-bg: color-mix(in oklab, var(--success) 24%, #f3fff7);
  --quote-pill-fg: color-mix(in oklab, var(--success) 70%, #0f2918);
}

.notion-quote[data-tone="blue"],
.notion-quote[data-tone="purple"] {
  --quote-pill-bg: color-mix(in oklab, var(--ring) 25%, #f4f7ff);
  --quote-pill-fg: color-mix(in oklab, var(--ring) 80%, #0b1a33);
}

.notion-quote[data-tone="pink"],
.notion-quote[data-tone="red"] {
  --quote-pill-bg: color-mix(in oklab, var(--danger) 20%, #fff4f5);
  --quote-pill-fg: color-mix(in oklab, var(--danger) 75%, #4a0916);
}

.marketing-page .marketing-section[data-tone="dark"] .notion-quote {
  box-shadow: 0 16px 40px rgba(0, 0, 0, 0.45);
  border: 1px solid rgba(255, 255, 255, 0.08);
}

.marketing-page .marketing-section[data-tone="dark"] .notion-quote[data-tone="default"],
.marketing-page .marketing-section[data-tone="dark"] .notion-quote[data-tone="gray"],
.marketing-page .marketing-section[data-tone="dark"] .notion-quote:not([data-tone]) {
  --quote-pill-bg: color-mix(in oklab, rgba(255, 255, 255, 0.18) 60%, transparent);
  --quote-pill-fg: #f8fbff;
}

.notion-codeblock {
  background: var(--bg-soft);
  border: 1px solid color-mix(in srgb, var(--fg-soft) 20%, transparent);
  border-radius: var(--r-m);
  padding: var(--space-m);
  box-shadow: var(--shadow-s);
}
